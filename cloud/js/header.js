define(["jquery","template"],function(t,e){t("body").css("visibility","visible");var a={init:function(){var t=this;t.tabHover(),t.tabContent(),t.navMoveLine(),t.astopOpen(),t.topSearch(),t.iframemarket()},tabHover:function(){t("#headTab li").on("mouseenter mouseleave",function(e){if(void 0==t(this).attr("id")&&t(".toptab-content").addClass("dn"),!t("#con"+t(this).attr("id")).hasClass("dn"))return!1;var a=(t(this).innerWidth(),t(this).innerHeight());e.type;if("mouseover"==e.type||"mouseenter"==e.type){var n=t(this).attr("id");t(".toptab-content").css("height","0px").addClass("dn"),t(".toptab-content").each(function(){t(this).attr("id")=="con"+n&&(t(this).removeClass("dn").animate({height:"400px"},400),t(this).find(".toptab-content_middle").removeClass("dn"),t(this).find(".toptab-content_left li").eq(0).addClass("active").siblings().removeClass("active"),t(this).find(".toptab-ul_right").eq(0).removeClass("dn").siblings().addClass("dn"),t(this).find(".toptab-ul_right li").eq(0).addClass("active").siblings().removeClass("active"))})}else if(e.clientY>=t(this).offset().top+a)return!1}),t(".toptab-content").on("mouseenter mouseleave",function(e){var n=t("#headTab").offset().left,i=t("#headTab").innerWidth();if("mouseover"==e.type||"mouseenter"==e.type)return!1;(e.clientY>165||e.clientY<60&&e.clientX>n+i-60||e.clientX<n)&&(t(this).removeClass("active"),t(".toptab-content").css("height","0px").addClass("dn"),a.resetFocus())}),t("#topTabArrow").on("click",function(){t(".toptab-content").css("height","0px").addClass("dn")}),t("#topTabArrow2").on("click",function(){t(".toptab-content").css("height","0px").addClass("dn")})},tabContent:function(){t(".toptab-ul_left li").on("mouseover mouseout",function(){void 0!=t(this).attr("aria-height")&&t(this).parents(".toptab-content").stop().animate({height:t(this).attr("aria-height")},200),t(this).addClass("active").siblings().removeClass("active");var e=t(this).find("a").attr("index");t(".toptab-content_right ul").each(function(){"#"+t(this).attr("id")==e&&t(this).removeClass("dn").siblings().addClass("dn")})})},navMoveLine:function(){var e=!1,n=t(".toptab-content").length;t("#headTab a").hover(function(n){clearTimeout(e),e=setTimeout(function(){var i=a.handleEvent(n);if(i){var s=t(".topmiddle").offset().left,o=i.width(),r=i.offset().left,c=r-s;t(".line").animate({left:c,width:o},200),e=!1}},100)},function(e){"A"!==(e.toElement||e.relatedTarget||e.fromElement).nodeName&&n==t(".toptab-content.dn").length&&a.resetFocus()})},resetFocus:function(){t(".line").animate({width:0},200)},topSearch:function(){t("#headerSearch").on("click",function(){t("#headerSearch").hasClass("uf-search-light-2")?(t(".topsearch-content").removeClass("dn").animate({height:"117px"},200),t(this).removeClass("uf-search-light-2").addClass("uf-close")):(t(".topsearch-content").css("height","0px").addClass("dn"),t(this).removeClass("uf-close").addClass("uf-search-light-2"))}),t("#topSearchArrow").on("click",function(){t(".topsearch-content").css("height","0px").addClass("dn"),t("#headerSearch").removeClass("uf-close").addClass("uf-search-light-2")})},astopOpen:function(){},iframemarket:function(){var e,a=window.location.host;e=a.indexOf("yyuap")>-1||a.indexOf("localhost")>-1?"//uastest.yyuap.com/market/cms/getHeader":"//market.yonyoucloud.com/market/cms/getHeader",t(".conmarket_iframe").attr("src",e)},handleEvent:function(e){var a=null;return"A"===e.target.nodeName?a=t(e.target).parent():e.target.nodeName,a}};t(function(){a.init()})});